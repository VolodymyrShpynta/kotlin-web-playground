httpPort = ${WEB_PLAYGROUND_HTTP_PORT}

db {
  url = ${WEB_PLAYGROUND_DB_URL}
  user = ${WEB_PLAYGROUND_DB_USER}
  password = ${WEB_PLAYGROUND_DB_PASSWORD}
}

useFileSystemAssets = false

# CROSS-DOMAIN ARCHITECTURE: Secure authentication across different domains
# Frontend can be hosted on ANY domain in the allowed list
# Backend API hosted separately
# Uses allowlist-based CORS security with SameSite=none
# NOTE: CORS cookies to work properly must use HTTPS with Secure=true and SameSite=none
cookie {
  useSecure = ${WEB_PLAYGROUND_USE_SECURE_COOKIE}
  sameSite = "none"
  encryptionKey = ${WEB_PLAYGROUND_COOKIE_ENCRYPTION_KEY}
  signingKey = ${WEB_PLAYGROUND_COOKIE_SIGNING_KEY}
}

# CORS Configuration for production
# Environment variables use comma-separated format (simpler):
#   WEB_PLAYGROUND_CORS_ALLOWED_HOSTS="host1:port,host2:port"
#   WEB_PLAYGROUND_CORS_ALLOWED_HTTPS_HOSTS="domain1.com,domain2.com"
# Optional: if not set, falls back to base config (app.conf) defaults
cors {
  allowedHosts = ${?WEB_PLAYGROUND_CORS_ALLOWED_HOSTS}
  allowedHttpsHosts = ${?WEB_PLAYGROUND_CORS_ALLOWED_HTTPS_HOSTS}
}

# Third-party service URL for production (e.g., Azure Container Apps internal URL)
# If not set, falls back to base config default
thirdPartyServiceUrl = ${?THIRD_PARTY_SERVICE_URL}
